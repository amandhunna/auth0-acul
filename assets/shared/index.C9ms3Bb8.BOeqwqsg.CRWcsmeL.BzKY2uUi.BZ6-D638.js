import{K as D,h as O,J as e,W,H,p as B,u as J,d as K,q as C,$ as T,X as V,e as G,Z as I,r as X,l as Y,a as Z,s as U,n as _,o as ee,t as te,b as se,c as re,M as ae,i as oe,D as L,O as k,E as ne,f as v,g as ie,j as le,k as A,P as ce,G as de,Y as ue}from"../main.Djz6zPDK.js";const pe={title:"Login",orText:"OR"},he={title:"Welcome",description:"Log in to continue",logoAltText:"Application Logo"},me={signupActionText:"Don't have an account?",signupActionLinkText:"Sign Up"},xe={continueWithText:"Continue with"},ge={selectCountryPlaceholder:"Select Country",captchaLabel:"CAPTCHA*",passwordLabel:"Password*",forgotPasswordLinkText:"Forgot password?",continueButtonText:"Continue"},fe={errorOccurred:"An error occurred",identifierRequired:"Identifier is required",passwordRequired:"Password is required",captchaCompletionRequired:"Please complete the CAPTCHA"},Ce={page:pe,heading:he,footer:me,alternativeLogins:xe,loginForm:ge,errors:fe},x=()=>{const s=B(),t=J(),a=K(),{alternateConnections:d,countryCode:r,countryPrefix:o}=a,{isCaptchaAvailable:c,captcha:u,texts:p,links:h}=t;return{login:s,handleLogin:async i=>{const l={username:i.username.trim(),password:i.password.trim()};t.isCaptchaAvailable&&i.captcha?.trim()&&(l.captcha=i.captcha.trim());const f={...l,password:"[REDACTED]"};C(`Perform Login operation with options: ${JSON.stringify(f)}`,()=>s.login(l))},handleFederatedLogin:async i=>{C(`Perform federated login with connection: ${i.connection}`,()=>s.federatedLogin(i))},handlePickCountryCode:async()=>{C("Invoked Pick country code",()=>s.pickCountryCode())},texts:p,locales:Ce,isCaptchaAvailable:c,alternateConnections:d,captcha:u,resetPasswordLink:h?.reset_password,signupLink:h?.signup,countryCode:r,countryPrefix:o}},je=()=>{const{locales:s,alternateConnections:t,handleFederatedLogin:a}=x(),d=r=>{const o={connection:r.name,...r.metadata||{}};a(o)};return!t||t.length===0?null:e.jsx("div",{className:"space-y-3 mt-2",children:t.map(r=>{if(!r?.name)return null;const{displayName:o,iconComponent:c}=de(r),u=`${s?.alternativeLogins?.continueWithText} ${o}`;return e.jsx(ue,{displayName:o,buttonText:u,iconComponent:c,onClick:()=>d(r)},r.name)})})};function ye(){const{texts:s,locales:t,signupLink:a}=x();return a?e.jsxs("div",{className:"mt-6 text-left",children:[e.jsxs("span",{className:"text-sm theme-universal:text-body-text theme-universal:text-(length:--ul-theme-font-body-text-size) theme-universal:font-body-text",children:[s?.signupActionText||t?.footer?.signupActionText," "]}),e.jsx(A,{href:a,children:s?.signupActionLinkText||t?.footer?.signupActionLinkText})]}):null}function be(){const{texts:s,locales:t}=x(),a=s?.logoAltText||t?.heading?.logoAltText;return e.jsxs(e.Fragment,{children:[e.jsx(V,{altText:a}),e.jsx(G,{children:s?.title||t?.heading?.title}),e.jsx(I,{className:"mb-6",children:s?.description||t?.heading?.description})]})}function we(){const{texts:s,locales:t,captcha:a,countryCode:d,countryPrefix:r,resetPasswordLink:o,isCaptchaAvailable:c,handleLogin:u,handlePickCountryCode:p}=x(),h=X(),i=Y(h||void 0,s),l=Z({defaultValues:{username:"",password:"",captcha:""},reValidateMode:"onBlur"}),{formState:{isSubmitting:f}}=l,F=s?.captchaCodePlaceholder?`${s.captchaCodePlaceholder}*`:t?.loginForm?.captchaLabel,q=s?.passwordPlaceholder?`${s.passwordPlaceholder}*`:t?.loginForm?.passwordLabel,N=s?.forgotPasswordText||t?.loginForm?.forgotPasswordLinkText,E=s?.buttonText||t?.loginForm?.continueButtonText,{captchaConfig:j,captchaProps:Q,captchaValue:y}=U(a||void 0,F),{errors:g,hasError:S,dismiss:M}=_(),b=g.byField("username")[0]?.message,w=g.byField("password")[0]?.message,R=g.byField("captcha")[0]?.message,P=g.byType("auth0").filter(n=>!n.field),$=ee(h||[]),z=async n=>{await u({username:n.username,password:n.password,captcha:c&&y?y:void 0})};return e.jsx(te,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(z),children:[S&&P.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:P.map(n=>e.jsx(se,{variant:"destructive",onDismiss:()=>M(n.id),children:e.jsx(re,{children:n.message||t?.errors?.errorOccurred})},n.id))}),$&&e.jsx("div",{className:"mb-4",children:e.jsx(ae,{selectedCountry:oe(d,r),onClick:p,fullWidth:!0,placeholder:t?.loginForm?.selectCountryPlaceholder})}),e.jsx(L,{control:l.control,name:"username",rules:{required:t?.errors?.identifierRequired},render:({field:n,fieldState:m})=>e.jsxs(k,{children:[e.jsx(ne,{...n,label:i.label,type:i.type,autoComplete:i.autoComplete,autoFocus:!0,error:!!m.error||!!b}),e.jsx(v,{sdkError:b,hasFormError:!!m.error})]})}),e.jsx(L,{control:l.control,name:"password",rules:{required:t?.errors?.passwordRequired},render:({field:n,fieldState:m})=>e.jsxs(k,{children:[e.jsx(ie,{...n,label:q,autoComplete:"current-password",error:!!m.error||!!w}),e.jsx(v,{sdkError:w,hasFormError:!!m.error})]})}),c&&j&&e.jsx(le,{control:l.control,name:"captcha",captcha:j,...Q,sdkError:R,rules:{required:t?.errors?.captchaCompletionRequired}}),o&&e.jsx("div",{className:"mb-4 mt-2 text-left",children:e.jsx(A,{href:o,children:N})}),e.jsx(ce,{type:"submit",className:"w-full",disabled:f,children:E})]})})}function Te(){const{login:s,texts:t,locales:a,alternateConnections:d}=x(),r=d&&d.length>0,o=t?.separatorText||a?.page?.orText;document.title=t?.pageTitle||a?.page?.title,D(s);const c=O("--ul-theme-widget-social-buttons-layout"),u=p=>e.jsxs(e.Fragment,{children:[p==="bottom"&&r&&e.jsx(T,{text:o}),e.jsx(je,{}),p==="top"&&r&&e.jsx(T,{text:o})]});return e.jsx(W,{className:"theme-universal",style:{backgroundColor:"#d89696"},children:e.jsxs(H,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(be,{}),c==="top"&&u("top"),e.jsx(we,{}),e.jsx(ye,{}),c!=="top"&&u("bottom")]})})}export{Te as default};
//# sourceMappingURL=index.C9ms3Bb8.BOeqwqsg.CRWcsmeL.BzKY2uUi.BZ6-D638.js.map
