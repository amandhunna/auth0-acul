import{F as W,h as B,X as e,B as D,z as O,o as V,r as I,a as J,$ as C,U as L,Q as U,G as Y,K as G,Y as K,t as Q,i as X,J as Z,W as _,e as ee,b as te,c as se,d as re,I as ae,Z as oe,A as P,E as A,f as ne,g as v,M as ie,q as le,H as k,C as ce,V as de,j as ue}from"../main.D8CLYrKa.js";const pe={title:"Login",orText:"OR"},he={title:"Welcome",description:"Log in to continue",logoAltText:"Application Logo"},me={signupActionText:"Don't have an account?",signupActionLinkText:"Sign Up"},xe={continueWithText:"Continue with"},ge={selectCountryPlaceholder:"Select Country",captchaLabel:"CAPTCHA*",passwordLabel:"Password*",forgotPasswordLinkText:"Forgot password?",continueButtonText:"Continue"},fe={errorOccurred:"An error occurred",identifierRequired:"Identifier is required",passwordRequired:"Password is required",captchaCompletionRequired:"Please complete the CAPTCHA"},Ce={page:pe,heading:he,footer:me,alternativeLogins:xe,loginForm:ge,errors:fe},x=()=>{const s=V(),t=I(),a=J(),{alternateConnections:d,countryCode:r,countryPrefix:o}=a,{isCaptchaAvailable:c,captcha:u,texts:p,links:h}=t;return{login:s,handleLogin:async i=>{const l={username:i.username.trim(),password:i.password.trim()};t.isCaptchaAvailable&&i.captcha?.trim()&&(l.captcha=i.captcha.trim());const f={...l,password:"[REDACTED]"};C(`Perform Login operation with options: ${JSON.stringify(f)}`,()=>s.login(l))},handleFederatedLogin:async i=>{C(`Perform federated login with connection: ${i.connection}`,()=>s.federatedLogin(i))},handlePickCountryCode:async()=>{C("Invoked Pick country code",()=>s.pickCountryCode())},texts:p,locales:Ce,isCaptchaAvailable:c,alternateConnections:d,captcha:u,resetPasswordLink:h?.reset_password,signupLink:h?.signup,countryCode:r,countryPrefix:o}},je=()=>{const{locales:s,alternateConnections:t,handleFederatedLogin:a}=x(),d=r=>{const o={connection:r.name,...r.metadata||{}};a(o)};return!t||t.length===0?null:e.jsx("div",{className:"space-y-3 mt-2",children:t.map(r=>{if(!r?.name)return null;const{displayName:o,iconComponent:c}=de(r),u=`${s?.alternativeLogins?.continueWithText} ${o}`;return e.jsx(ue,{displayName:o,buttonText:u,iconComponent:c,onClick:()=>d(r)},r.name)})})};function ye(){const{texts:s,locales:t,signupLink:a}=x();return a?e.jsxs("div",{className:"mt-6 text-left",children:[e.jsxs("span",{className:"text-sm theme-universal:text-body-text theme-universal:text-(length:--ul-theme-font-body-text-size) theme-universal:font-body-text",children:[s?.signupActionText||t?.footer?.signupActionText," "]}),e.jsx(k,{href:a,children:s?.signupActionLinkText||t?.footer?.signupActionLinkText})]}):null}function be(){const{texts:s,locales:t}=x(),a=s?.logoAltText||t?.heading?.logoAltText;return e.jsxs(e.Fragment,{children:[e.jsx(U,{altText:a}),e.jsx(Y,{children:s?.title||t?.heading?.title}),e.jsx(G,{className:"mb-6",children:s?.description||t?.heading?.description})]})}function we(){const{texts:s,locales:t,captcha:a,countryCode:d,countryPrefix:r,resetPasswordLink:o,isCaptchaAvailable:c,handleLogin:u,handlePickCountryCode:p}=x(),h=K(),i=Q(h||void 0,s),l=X({defaultValues:{username:"",password:"",captcha:""},reValidateMode:"onBlur"}),{formState:{isSubmitting:f}}=l,H=s?.captchaCodePlaceholder?`${s.captchaCodePlaceholder}*`:t?.loginForm?.captchaLabel,F=s?.passwordPlaceholder?`${s.passwordPlaceholder}*`:t?.loginForm?.passwordLabel,q=s?.forgotPasswordText||t?.loginForm?.forgotPasswordLinkText,N=s?.buttonText||t?.loginForm?.continueButtonText,{captchaConfig:j,captchaProps:E,captchaValue:y}=Z(a||void 0,H),{errors:g,hasError:M,dismiss:S}=_(),b=g.byField("username")[0]?.message,w=g.byField("password")[0]?.message,$=g.byField("captcha")[0]?.message,T=g.byType("auth0").filter(n=>!n.field),R=ee(h||[]),z=async n=>{await u({username:n.username,password:n.password,captcha:c&&y?y:void 0})};return e.jsx(te,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(z),children:[M&&T.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:T.map(n=>e.jsx(se,{variant:"destructive",onDismiss:()=>S(n.id),children:e.jsx(re,{children:n.message||t?.errors?.errorOccurred})},n.id))}),R&&e.jsx("div",{className:"mb-4",children:e.jsx(ae,{selectedCountry:oe(d,r),onClick:p,fullWidth:!0,placeholder:t?.loginForm?.selectCountryPlaceholder})}),e.jsx(P,{control:l.control,name:"username",rules:{required:t?.errors?.identifierRequired},render:({field:n,fieldState:m})=>e.jsxs(A,{children:[e.jsx(ne,{...n,label:i.label,type:i.type,autoComplete:i.autoComplete,autoFocus:!0,error:!!m.error||!!b}),e.jsx(v,{sdkError:b,hasFormError:!!m.error})]})}),e.jsx(P,{control:l.control,name:"password",rules:{required:t?.errors?.passwordRequired},render:({field:n,fieldState:m})=>e.jsxs(A,{children:[e.jsx(ie,{...n,label:F,autoComplete:"current-password",error:!!m.error||!!w}),e.jsx(v,{sdkError:w,hasFormError:!!m.error})]})}),c&&j&&e.jsx(le,{control:l.control,name:"captcha",captcha:j,...E,sdkError:$,rules:{required:t?.errors?.captchaCompletionRequired}}),o&&e.jsx("div",{className:"mb-4 mt-2 text-left",children:e.jsx(k,{href:o,children:q})}),e.jsx(ce,{type:"submit",className:"w-full",disabled:f,children:N})]})})}function Le(){const{login:s,texts:t,locales:a,alternateConnections:d}=x(),r=d&&d.length>0,o=t?.separatorText||a?.page?.orText;document.title=t?.pageTitle||a?.page?.title,W(s);const c=B("--ul-theme-widget-social-buttons-layout"),u=p=>e.jsxs(e.Fragment,{children:[p==="bottom"&&r&&e.jsx(L,{text:o}),e.jsx(je,{}),p==="top"&&r&&e.jsx(L,{text:o})]});return e.jsx(D,{className:"theme-universal",style:{backgroundColor:"#d89696"},children:e.jsxs(O,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(be,{}),c==="top"&&u("top"),e.jsx(we,{}),e.jsx(ye,{}),c!=="top"&&u("bottom")]})})}export{Le as default};
//# sourceMappingURL=index.C9ms3Bb8.BOeqwqsg.CRWcsmeL.js.map
